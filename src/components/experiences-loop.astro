---
import experiences from "../collections/experiences.json";

const { count } = Astro.props;

const experiencesLoop = experiences.slice(0, count).map((experience) => {
  return {
    dates: experience.dates,
    role: experience.role,
    company: experience.company,
    description: experience.description,
    logo: experience.logo,
  };
});
---

{
  experiencesLoop.map((experience) => {
    return (
      <div
        class="relative border border-transparent border-dashed p-7 group rounded-2xl"
      >
        <div class="absolute inset-0 z-20 w-full h-full duration-300 ease-out bg-white border border-dashed dark:bg-neutral-950 rounded-2xl border-neutral-300 dark:border-neutral-600 group-hover:-translate-x-1 group-hover:-translate-y-1" />
        <div class="absolute inset-0 z-10 w-full h-full duration-300 ease-out border border-dashed rounded-2xl border-neutral-300 dark:border-neutral-600 group-hover:translate-x-1 group-hover:translate-y-1" />
        <div class="relative z-30 duration-300 ease-out group-hover:-translate-x-1 group-hover:-translate-y-1">
          <h2 class="flex items-center mb-3">
            <a
              class="text-base font-bold leading-tight tracking-tight sm:text-lg dark:text-neutral-100"
            >
              {experience.role} en {experience.company}
            </a>
            <img
              src={experience.logo}
              alt={`${experience.company} logo`}
              class="group-hover:translate-x-0 flex-shrink-0 translate-y-0.5 -translate-x-1 w-6 h-6 ml-2 transition-all ease-in-out duration-200 transform opacity-0 group-hover:opacity-100"
            />
          </h2>
          <p class="text-sm text-neutral-600 dark:text-neutral-400">
            <span>{experience.description}</span>
          </p>
          <div class="mt-2.5 text-xs font-medium text-neutral-800 dark:text-neutral-300">
            {experience.dates}
          </div>
        </div>
      </div>
    )
  })
}
